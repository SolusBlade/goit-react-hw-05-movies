{"version":3,"file":"static/js/692.9875ccc3.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","services/trimString.js","webpack://goit-react-hw-05-movies/./src/components/MovieModal/MovieModal.module.css?b2de","components/MovieModal/MovieModal.jsx","webpack://goit-react-hw-05-movies/./src/components/PaginationComp/PaginationComp.module.css?b9ff","components/PaginationComp/PaginationComp.jsx","webpack://goit-react-hw-05-movies/./src/pages/HomePage.module.css?fc1d","pages/HomePage.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieItem_item__iPuYx\",\"btn\":\"MovieItem_btn__f+CfX\",\"btnIcon\":\"MovieItem_btnIcon__KGPgv\",\"linkWrap\":\"MovieItem_linkWrap__PGMR2\",\"rating\":\"MovieItem_rating__FVA0T\",\"poster\":\"MovieItem_poster__2QxTy\",\"textTitle\":\"MovieItem_textTitle__6NTgv\",\"text\":\"MovieItem_text__C1V2s\"};","import { memo } from 'react';\nimport { BsFillPlayFill } from 'react-icons/bs';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nimport s from './MovieItem.module.css';\nimport { trimString } from 'services/trimString';\n\nconst MovieItem = ({\n  data: { id, title, poster_path, vote_average, release_date },\n  hendleOpenModal,\n}) => {\n  const location = useLocation();\n  return (\n    <li className={s.item}>\n      <button className={s.btn} onClick={() => hendleOpenModal(id)}>\n        <BsFillPlayFill className={s.btnIcon} />\n      </button>\n      <NavLink\n        to={'/goit-react-hw-05-movies/movies/' + id}\n        className={s.linkWrap}\n        state={location}\n      >\n        <p className={s.rating}>{vote_average.toFixed(1)}</p>\n        <img\n          src={\n            poster_path !== null\n              ? 'https://image.tmdb.org/t/p/original' + poster_path\n              : 'https://cinemaone.net/images/movie_placeholder.png'\n          }\n          className={s.poster}\n          height={300}\n          alt=\"\"\n        />\n        <div className={s.wrap}>\n          <p className={s.textTitle}>{trimString(title)}</p>\n          <p className={s.text}>\n            {isNaN(parseInt(release_date)) ? 'Unknown' : parseInt(release_date)}\n          </p>\n        </div>\n      </NavLink>\n    </li>\n  );\n};\n\nexport default memo(MovieItem);\n","export function trimString(str) {\n  if (str.length > 42) {\n    return str.slice(0, 42) + '...';\n  }\n  return str;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"MovieModal_backdrop__9hkCU\",\"movie\":\"MovieModal_movie__Rwibg\"};","import { memo, useCallback, useEffect } from 'react';\n\nimport s from './MovieModal.module.css';\n\nconst MovieModal = ({ modalData, closeModal }) => {\n  const handleCloseModalByEscape = useCallback(\n    e => {\n      if (e.code === 'Escape') {\n        closeModal();\n      }\n    },\n    [closeModal]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleCloseModalByEscape);\n    document.body.style.overflow = 'hidden';\n    return () => {\n      window.removeEventListener('keydown', handleCloseModalByEscape);\n      document.body.style.overflow = '';\n    };\n  }, [handleCloseModalByEscape]);\n\n  const handleCloseModal = e => {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  };\n\n  return (\n    <>\n      <div className={s.backdrop} onClick={handleCloseModal}>\n        <div className={s.movie}>\n          <iframe\n            className=\"iframe-container\"\n            width=\"900\"\n            height=\"600\"\n            src={`https://www.youtube.com/embed/${modalData}`}\n            title=\"YouTube video player\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen=\"\"\n          ></iframe>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default memo(MovieModal);\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"PaginationComp_pagination__L7Mz4\",\"item\":\"PaginationComp_item__2LBNA\",\"link\":\"PaginationComp_link__lN7OT\",\"activeLink\":\"PaginationComp_activeLink__CMcxD\",\"disabled\":\"PaginationComp_disabled__j8ADg\"};","import Pagination from \"react-js-pagination\";\nimport s from './PaginationComp.module.css';\n\nconst PaginationComp = ({ page, handlePageChange, totalItems }) => {\n  return (\n    <Pagination\n      activePage={page}\n      itemsCountPerPage={20}\n      totalItemsCount={totalItems}\n      pageRangeDisplayed={10}\n      onChange={handlePageChange}\n      itemClass={s.item}\n      linkClass={s.link}\n      activeLinkClass={s.activeLink}\n      innerClass={s.pagination}\n      disabledClass={s.disabled}\n    />\n  );\n};\n\nexport default PaginationComp;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"HomePage_title__G4sQi\",\"list\":\"HomePage_list__oG2dB\"};","import { memo, useEffect, useState } from 'react';\nimport {\n  getMovieTrailerapi,\n  getTrandingMoviesapi,\n} from '../services/moviesApi';\n\nimport s from './HomePage.module.css';\nimport MovieModal from 'components/MovieModal/MovieModal';\nimport PaginationComp from 'components/PaginationComp/PaginationComp';\nimport MovieItem from 'components/MovieItem/MovieItem';\n\nconst HomePage = () => {\n  \n  \n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalItems, setTotalItems] = useState(null);\n  const [modalData, setModalData] = useState(null);\n\n  useEffect(() => {\n    getTrandingMoviesapi(page).then(r => {\n      setMovies(r.results);\n      setTotalItems(r.total_results);\n    });\n  }, [page]);\n\n  const handlePageChange = pageNumber => {\n    setPage(pageNumber);\n  };\n\n  const hendleOpenModal = id => {\n    getMovieTrailerapi(id).then(r =>\n      setModalData(\n        r.results.find(movie => movie.name.toLowerCase().includes('trailer'))\n          ?.key\n      )\n    );\n  };\n\n  const hendleCloseModal = () => {\n    setModalData(null);\n  };\n\n  return (\n    <>\n      <h1 className={s.title}>Trending today</h1>\n      <ul className={s.list}>\n        {movies.map(data => (\n          <MovieItem\n            key={data.id}\n            data={data}\n            hendleOpenModal={hendleOpenModal}\n          />\n        ))}\n      </ul>\n      {movies.length > 0 && (\n        <PaginationComp\n          page={page}\n          handlePageChange={handlePageChange}\n          totalItems={totalItems}\n        />\n      )}\n      {modalData && (\n        <MovieModal\n          modalData={modalData}\n          closeModal={hendleCloseModal}\n          hendleOpenModal={hendleOpenModal}\n        />\n      )}\n    </>\n  );\n};\n\nexport default memo(HomePage);\n","import axios from \"axios\";\n\n// ?country=us&=\nconst API_KEY = '571e3bd2c39f71ab899b0219901320b3';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrandingMoviesapi = (page) => {\n  return axios\n    .get('/trending/movie/day', {\n      params: {\n        page,\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieByIdapi = (id) => {\n  return axios\n    .get(`/movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieCastapi = (id) => {\n  return axios\n    .get(`/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieReviewapi = (id) => {\n  return axios\n    .get(`/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getSearchedMovieapi = (query, page=1) => {\n  return axios\n    .get(`/search/movie`, {\n      params: {\n        page,\n        query,\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n//api.themoviedb.org/3/movie/868759/videos?api_key=\n\nexport const getMovieTrailerapi = id => {\n  return axios\n    .get(`/movie/${id}/videos`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\n// https://newsapi.org/v2/everything?q=bitcoin&apiKey=42ee593af8484a5a82756cb35b09ccd6\n// export const getSearchedNewsApi = (q, page = 1) => {\n//   return axios\n//     .get(\"/everything\", {\n//       params: {\n//         q,\n//         page,\n//         pageSize: 10,\n//         apiKey: API_KEY,\n//       },\n//     })\n//     .then((res) => res.data);\n// };\n"],"names":["MovieItem","str","data","id","title","poster_path","vote_average","release_date","hendleOpenModal","location","useLocation","className","s","onClick","to","state","toFixed","src","height","alt","length","slice","isNaN","parseInt","memo","MovieModal","modalData","closeModal","handleCloseModalByEscape","useCallback","e","code","useEffect","window","addEventListener","document","body","style","overflow","removeEventListener","target","currentTarget","width","frameBorder","allow","allowFullScreen","page","handlePageChange","totalItems","Pagination","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","onChange","itemClass","linkClass","activeLinkClass","innerClass","disabledClass","HomePage","useState","movies","setMovies","setPage","setTotalItems","setModalData","getTrandingMoviesapi","then","r","results","total_results","getMovieTrailerapi","find","movie","name","toLowerCase","includes","key","map","PaginationComp","pageNumber","API_KEY","axios","params","api_key","res","getMovieByIdapi","getMovieCastapi","getMovieReviewapi","getSearchedMovieapi","query"],"sourceRoot":""}