{"version":3,"file":"static/js/614.a47458b7.chunk.js","mappings":"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","sources":["components/GoBackBtn/GoBackBtn.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","services/trimString.js","webpack://goit-react-hw-05-movies/./src/components/MovieModal/MovieModal.module.css?b2de","components/MovieModal/MovieModal.jsx","webpack://goit-react-hw-05-movies/./src/components/PaginationComp/PaginationComp.module.css?b9ff","components/PaginationComp/PaginationComp.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesSearchPage/MoviesSearchPage.module.css?13ec","pages/MoviesSearchPage/MoviesSearchPage.jsx","services/moviesApi.js"],"sourcesContent":["import { useNavigate, useLocation } from 'react-router-dom';\nimport { TiArrowLeftThick } from 'react-icons/ti';\n\nconst GoBackBtn = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleGoBackBtnClick = () => {\n    const prevPageLoacation = location.state;\n    navigate(prevPageLoacation);\n  };\n\n  return (\n    <button onClick={handleGoBackBtnClick} className=\"backBtn\">\n      <TiArrowLeftThick />\n      Go back\n    </button>\n  );\n};\n\nexport default GoBackBtn;\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieItem_item__iPuYx\",\"btn\":\"MovieItem_btn__f+CfX\",\"btnIcon\":\"MovieItem_btnIcon__KGPgv\",\"linkWrap\":\"MovieItem_linkWrap__PGMR2\",\"rating\":\"MovieItem_rating__FVA0T\",\"poster\":\"MovieItem_poster__2QxTy\",\"textTitle\":\"MovieItem_textTitle__6NTgv\",\"text\":\"MovieItem_text__C1V2s\"};","import { memo } from 'react';\nimport { BsFillPlayFill } from 'react-icons/bs';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nimport s from './MovieItem.module.css';\nimport { trimString } from 'services/trimString';\n\nconst MovieItem = ({\n  data: { id, title, poster_path, vote_average, release_date },\n  hendleOpenModal,\n}) => {\n  const location = useLocation();\n  return (\n    <li className={s.item}>\n      <button className={s.btn} onClick={() => hendleOpenModal(id)}>\n        <BsFillPlayFill className={s.btnIcon} />\n      </button>\n      <NavLink\n        to={'/goit-react-hw-05-movies/movies/' + id}\n        className={s.linkWrap}\n        state={location}\n      >\n        <p className={s.rating}>{vote_average.toFixed(1)}</p>\n        <img\n          src={\n            poster_path !== null\n              ? 'https://image.tmdb.org/t/p/original' + poster_path\n              : 'https://cinemaone.net/images/movie_placeholder.png'\n          }\n          className={s.poster}\n          height={300}\n          alt=\"\"\n        />\n        <div className={s.wrap}>\n          <p className={s.textTitle}>{trimString(title)}</p>\n          <p className={s.text}>\n            {isNaN(parseInt(release_date)) ? 'Unknown' : parseInt(release_date)}\n          </p>\n        </div>\n      </NavLink>\n    </li>\n  );\n};\n\nexport default memo(MovieItem);\n","export function trimString(str) {\n  if (str.length > 42) {\n    return str.slice(0, 42) + '...';\n  }\n  return str;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"MovieModal_backdrop__9hkCU\",\"movie\":\"MovieModal_movie__Rwibg\"};","import { memo, useCallback, useEffect } from 'react';\n\nimport s from './MovieModal.module.css';\n\nconst MovieModal = ({ modalData, closeModal }) => {\n  const handleCloseModalByEscape = useCallback(\n    e => {\n      if (e.code === 'Escape') {\n        closeModal();\n      }\n    },\n    [closeModal]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleCloseModalByEscape);\n    document.body.style.overflow = 'hidden';\n    return () => {\n      window.removeEventListener('keydown', handleCloseModalByEscape);\n      document.body.style.overflow = '';\n    };\n  }, [handleCloseModalByEscape]);\n\n  const handleCloseModal = e => {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  };\n\n  return (\n    <>\n      <div className={s.backdrop} onClick={handleCloseModal}>\n        <div className={s.movie}>\n          <iframe\n            className=\"iframe-container\"\n            width=\"900\"\n            height=\"600\"\n            src={`https://www.youtube.com/embed/${modalData}`}\n            title=\"YouTube video player\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen=\"\"\n          ></iframe>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default memo(MovieModal);\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"PaginationComp_pagination__L7Mz4\",\"item\":\"PaginationComp_item__2LBNA\",\"link\":\"PaginationComp_link__lN7OT\",\"activeLink\":\"PaginationComp_activeLink__CMcxD\",\"disabled\":\"PaginationComp_disabled__j8ADg\"};","import Pagination from \"react-js-pagination\";\nimport s from './PaginationComp.module.css';\n\nconst PaginationComp = ({ page, handlePageChange, totalItems }) => {\n  return (\n    <Pagination\n      activePage={page}\n      itemsCountPerPage={20}\n      totalItemsCount={totalItems}\n      pageRangeDisplayed={10}\n      onChange={handlePageChange}\n      itemClass={s.item}\n      linkClass={s.link}\n      activeLinkClass={s.activeLink}\n      innerClass={s.pagination}\n      disabledClass={s.disabled}\n    />\n  );\n};\n\nexport default PaginationComp;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"searchBtn\":\"SearchForm_searchBtn__rp2a7\",\"searchInput\":\"SearchForm_searchInput__h6REp\",\"searchIcon\":\"SearchForm_searchIcon__Zrz7q\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { RxMagnifyingGlass } from 'react-icons/rx';\n\nimport s from './SearchForm.module.css';\n\nconst SearchForm = () => {\n  const [input, setInput] = useState('');\n\n  // eslint-disable-next-line\n  const [search, setSearch] = useSearchParams();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearch({ query: input, page: 1 });\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <button className={s.searchBtn} type=\"submit\">\n        <RxMagnifyingGlass className={s.searchIcon} />\n      </button>\n\n      <input\n        className={s.searchInput}\n        type=\"text\"\n        name=\"input\"\n        placeholder=\"Search...\"\n        onChange={e => setInput(e.target.value)}\n      />\n    </form>\n  );\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"poster\":\"MoviesSearchPage_poster__s+knL\",\"title\":\"MoviesSearchPage_title__ufmwy\",\"list\":\"MoviesSearchPage_list__8-OE1\",\"item\":\"MoviesSearchPage_item__7VRd2\",\"textTitle\":\"MoviesSearchPage_textTitle__5kQK3\",\"text\":\"MoviesSearchPage_text__ReE6i\",\"linkWrap\":\"MoviesSearchPage_linkWrap__Lj-Tt\",\"rating\":\"MoviesSearchPage_rating__YX1kN\",\"btn\":\"MoviesSearchPage_btn__3wwWj\",\"btnIcon\":\"MoviesSearchPage_btnIcon__5G2i0\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport s from './MoviesSearchPage.module.css';\nimport {\n  getMovieTrailerapi,\n  getSearchedMovieapi,\n} from '../../services/moviesApi';\nimport GoBackBtn from '../../components/GoBackBtn/GoBackBtn';\nimport MovieModal from 'components/MovieModal/MovieModal';\nimport MovieItem from 'components/MovieItem/MovieItem';\nimport PaginationComp from 'components/PaginationComp/PaginationComp';\n\nconst MoviesSearchPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [modalData, setModalData] = useState(null);\n  const [totalItems, setTotalItems] = useState(null);\n  const [search, setSearch] = useSearchParams();\n\n  const query = search.get('query');\n  const page = search.get('page');\n  console.log(page);\n\n  useEffect(() => {\n    if (!query) return;\n    getSearchedMovieapi(query, page).then(r => {\n      setMovies(r.results);\n      setTotalItems(r.total_results);\n    });\n  }, [query, page]);\n\n  const handlePageChange = pageNumber => {\n    setSearch({ query, page: pageNumber });\n  };\n\n  const hendleOpenModal = id => {\n    getMovieTrailerapi(id).then(r =>\n      setModalData(\n        r.results.find(movie => movie.name.toLowerCase().includes('trailer'))\n          ?.key\n      )\n    );\n  };\n\n  const hendleCloseModal = () => {\n    setModalData(null);\n  };\n\n  return (\n    <>\n      <GoBackBtn />\n      <SearchForm />\n      {movies.length > 0 && (\n        <>\n          <ul className={s.list}>\n            {movies.map(data => (\n              <MovieItem\n                key={data.id}\n                data={data}\n                hendleOpenModal={hendleOpenModal}\n              />\n            ))}\n          </ul>\n        </>\n      )}\n      {movies.length > 0 && (\n        <PaginationComp\n          page={page}\n          handlePageChange={handlePageChange}\n          totalItems={totalItems}\n        />\n      )}\n      {modalData && (\n        <MovieModal modalData={modalData} closeModal={hendleCloseModal} />\n      )}\n    </>\n  );\n};\n\nexport default MoviesSearchPage;\n","import axios from \"axios\";\n\n// ?country=us&=\nconst API_KEY = '571e3bd2c39f71ab899b0219901320b3';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrandingMoviesapi = (page) => {\n  return axios\n    .get('/trending/movie/day', {\n      params: {\n        page,\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieByIdapi = (id) => {\n  return axios\n    .get(`/movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieCastapi = (id) => {\n  return axios\n    .get(`/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getMovieReviewapi = (id) => {\n  return axios\n    .get(`/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\nexport const getSearchedMovieapi = (query, page=1) => {\n  return axios\n    .get(`/search/movie`, {\n      params: {\n        page,\n        query,\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n//api.themoviedb.org/3/movie/868759/videos?api_key=\n\nexport const getMovieTrailerapi = id => {\n  return axios\n    .get(`/movie/${id}/videos`, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(res => res.data);\n};\n\n// https://newsapi.org/v2/everything?q=bitcoin&apiKey=42ee593af8484a5a82756cb35b09ccd6\n// export const getSearchedNewsApi = (q, page = 1) => {\n//   return axios\n//     .get(\"/everything\", {\n//       params: {\n//         q,\n//         page,\n//         pageSize: 10,\n//         apiKey: API_KEY,\n//       },\n//     })\n//     .then((res) => res.data);\n// };\n"],"names":["navigate","useNavigate","location","useLocation","onClick","prevPageLoacation","state","className","MovieItem","str","data","id","title","poster_path","vote_average","release_date","hendleOpenModal","s","to","toFixed","src","height","alt","length","slice","isNaN","parseInt","memo","MovieModal","modalData","closeModal","handleCloseModalByEscape","useCallback","e","code","useEffect","window","addEventListener","document","body","style","overflow","removeEventListener","target","currentTarget","width","frameBorder","allow","allowFullScreen","page","handlePageChange","totalItems","Pagination","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","onChange","itemClass","linkClass","activeLinkClass","innerClass","disabledClass","useState","input","setInput","useSearchParams","setSearch","onSubmit","preventDefault","query","type","name","placeholder","value","movies","setMovies","setModalData","setTotalItems","search","get","console","log","getSearchedMovieapi","then","r","results","total_results","getMovieTrailerapi","find","movie","toLowerCase","includes","key","GoBackBtn","map","PaginationComp","pageNumber","API_KEY","axios","getTrandingMoviesapi","params","api_key","res","getMovieByIdapi","getMovieCastapi","getMovieReviewapi"],"sourceRoot":""}